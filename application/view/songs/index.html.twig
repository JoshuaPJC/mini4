{{ include('_templates/header.html.twig') }}

<div class="container">
    <h1>Songs</h1>
    <h2>You are in the View: application/view/song/index.html.twig (everything in this box comes from that file)</h2>
    <!-- add song form -->
    <div class="box">
        <h3>Add a song</h3>
        <form action="{{ URL }}songs/addsong" method="POST">
            <label>Artist</label>
            <input type="text" name="artist" value="" required/>
            <label>Track</label>
            <input type="text" name="track" value="" required/>
            <label>Link</label>
            <input type="text" name="link" value=""/>
            <input type="submit" name="submit_add_song" value="Submit"/>
        </form>
    </div>
    <!-- main content output -->
    <div class="box">
        <h3>Amount of songs: {{ amount_of_songs }}</h3>
        <h3>Amount of songs (via AJAX)</h3>
        <div id="javascript-ajax-result-box"></div>
        <div>
            <button id="javascript-ajax-button">Click here to get the amount of songs via Ajax (will be displayed in
                #javascript-ajax-result-box ABOVE)
            </button>
        </div>
        <h3>List of songs (data from model)</h3>
        <table>
            <thead style="background-color: #ddd; font-weight: bold;">
            <tr>
                <td>Id</td>
                <td>Artist</td>
                <td>Track</td>
                <td>Link</td>
                <td>DELETE</td>
                <td>EDIT</td>
            </tr>
            </thead>
            <tbody>
            {% for song in songs %}
                <tr>
                    <td>{{ song.id }}</td>
                    <td>{{ song.artist }}</td>
                    <td>{{ song.track }}</td>
                    <td>
                        {% if song.link is defined %}
                            <a href="{{ song.link }}">{{ song.link }}</a>
                        {% endif %}
                    </td>
                    <td>
                        <a href="{{ URL }}songs/deletesong/{{ song.id }}">delete</a>
                    </td>
                    <td>
                        <a href="{{ URL }}songs/editsong/{{ song.id }}">edit</a>
                    </td>
                </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>
</div>

{{ include('_templates/footer.html.twig') }}